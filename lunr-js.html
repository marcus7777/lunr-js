<script rel="import" href="../lunr.js/lunr.min.js"></script>
<script>
  (function() {
    Polymer({
      is: 'lunr-js',
      properties: {
        data:{
          type: Array
        },
        search: {
          type: String
        },
        output: {
          computed: "searched(data,search,index)", notify: true
        },
        index: {
          computed: "makeIndex(data)"
        }
      },
      searched: function(data,search,index) {
        
        console.log("data",data);
        console.log("search",search);
        console.log("index",index);
        
        // add ids
        
        return [];
      },
      makeIndex: function(data) {
        // find fields
        console.log(data[data.length - 1]);
        
        // setup boosts
        var index = lunr(function () {
          this.field('title', {boost: 10})
          this.field('body')
          this.ref('id')
        });
        
        // index.add() all data
        
        return index;
      }
    });
  })();
</script>
